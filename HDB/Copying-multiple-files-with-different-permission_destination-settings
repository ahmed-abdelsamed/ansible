- hosts: all
  tasks:
  - name: Copy multiple files in Ansible with different permissions
    copy:
      src: "{{ item.src }}"
      dest: "{{ item.dest }}"
      mode: "{{item.mode}}"
    with_items:
      - { src: '/home/mdtutorials2/test1',dest: '/tmp/devops_system1', mode: '0777'}
      - { src: '/home/mdtutorials2/test2',dest: '/tmp/devops_system2', mode: '0707'}
      - { src: '/home/mdtutorials2/test3',dest: '/tmp2/devops_system3', mode: '0575'}

#mdtutorials2@system01:~$ ls -lrt /tmp
#drwxrwxrwx 2 root          root          4096 Oct  9 14:28 devops_system1
#drwx---rwx 2 root          root          4096 Oct  9 14:28 devops_system2
#mdtutorials2@system01:~$ ls -lrt /tmp2
#-r-xrwxr-x 1 root root 0 Oct  9 14:33 devops_system3
